{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/app.js","webpack:///./src/js/question.js","webpack:///./src/js/quiz.js"],"names":["endpoint","cardContent","document","querySelector","progressBars","querySelectorAll","questionsBar","questionsLabel","mistakesBar","mistakesLabel","btnStart","btnAnswers","initialQuestionsLength","quiz","Object","showAnswers","forEach","val","parseInt","btn","dataset","value","innerHTML","currentQuestion","answers","answer","showProgress","style","width","questions","length","mistakes","submitAnswerEvents","addEventListener","guess","play","renderQuizView","classList","remove","bar","add","renderEndQuizView","showResult","removeEventListener","start","location","reload","text","turns","showCard","question","isEnded","event","fetch","then","resp","json","data","JSON","parse","stringify","Quiz","Question","answerIndex","correct","createQuestions","getCurrentQuestion","push","shift","pickedAnswerIndex","isCorrect","removeQuestion","moveToBack"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/app.js\");\n","import { Quiz } from './quiz';\nimport { Question } from './question';\n\nconst endpoint = 'https://gist.githubusercontent.com/vergilius/6d869a7448e405cb52d782120b77b82c/raw/e75dc7c19b918a9f0f5684595899dba2e5ad4f43/history-flashcards.json';\n\nconst cardContent = document.querySelector('#cardContent');\nconst progressBars = document.querySelectorAll('.jsProgressBar');\nconst questionsBar = document.querySelector('#questionsBar');\nconst questionsLabel = document.querySelector('#questionsLabel');\nconst mistakesBar = document.querySelector('#mistakesBar');\nconst  mistakesLabel = document.querySelector('#mistakesLabel');\nconst btnStart = document.querySelector('#btnStart');\nconst btnAnswers = document.querySelectorAll('.jsBtnAnswer');\n\nlet initialQuestionsLength = 0;\nlet quiz = new Object();\n\n\n\nfunction showAnswers(){\n    [...btnAnswers].forEach(btn => {\n        const val = parseInt(btn.dataset.value);\n        btn.innerHTML = quiz.currentQuestion.answers[val].answer;\n    });\n}\n\nfunction showProgress(){\n    \n    \n    questionsBar.style.width = 100 * (quiz.questions.length/initialQuestionsLength) +'%';\n    questionsLabel.innerHTML = `${quiz.questions.length} questions left`;\n    \n\n    mistakesBar.style.width = (quiz.mistakes * 2.5) + '%';\n    mistakesLabel.innerHTML = `${quiz.mistakes} mistakes made`;\n}\n\nfunction submitAnswerEvents(){\n    [...btnAnswers].forEach(btn => {\n       btn.addEventListener('click',function(){\n            const val = parseInt(btn.dataset.value);\n            quiz.guess(val);\n            play();\n       });\n    });\n}\n\nfunction renderQuizView(){\n    [...btnAnswers].forEach(btn => btn.classList.remove('hidden'));\n    \n    [...progressBars].forEach(bar => bar.classList.remove('hidden'));\n    \n    initialQuestionsLength = quiz.questions.length;\n    \n    btnStart.classList.add('hidden');\n    \n    cardContent.classList.add('content-box__content--question');\n}\n\nfunction renderEndQuizView(){    \n    [...btnAnswers].forEach(btn => btn.classList.add('hidden'));\n    \n    showResult();\n    \n    btnStart.classList.remove('hidden');\n    btnStart.innerHTML = \"Try again!\";\n    \n    btnStart.removeEventListener('click', start);\n    btnStart.addEventListener('click', function(){\n        location.reload(); \n    });\n    \n    cardContent.classList.remove('content-box__content--question');\n    \n    [...progressBars].forEach(bar => bar.classList.add('hidden'));\n}\n\nfunction showResult(){\n    \n    const text = !quiz.mistakes ?  \n          \"Wow! Perfect score!\" : \n            (quiz.mistakes < 0.5 * initialQuestionsLength) ? \n            \"Pretty good! I'm sure you will nail the next round!\" :\n            \"Oh. Don't worry. Next time will be better for sure!\";\n    \n    cardContent.innerHTML = `<p> ${text} </p>\n                            <h3> Summary </h3> \n                            <p> \n                                You've answered <span class=\"sg-text sg-text--emphasised\"> ${initialQuestionsLength} questions </span> in <span class=\"sg-text sg-text--emphasised\"> ${quiz.turns} whops</span>.\n                            </p> \n\n                            <p> \n                                That means, on the way you've made <span class=\"sg-text sg-text--peach sg-text--emphasised\">${quiz.mistakes} mistakes.</span> \n                            </p>`;\n    \n}\n\nfunction showCard(){\n\n    // show question    \n    cardContent.innerHTML = quiz.currentQuestion.question;\n\n    // show quiz progress\n    showProgress();\n\n    // show answers\n    showAnswers();\n}\n\nfunction play(){\n    if(quiz.isEnded()){\n        renderEndQuizView();\n    } else {\n        showCard();\n    }\n}\n\nfunction start(){\n    renderQuizView();\n    submitAnswerEvents();\n    play();\n}\n\n\ndocument.addEventListener(\"DOMContentLoaded\", function(event) {\n\n fetch(endpoint)\n    .then(resp => resp.json())\n    .then(data => {\n        data = JSON.parse(JSON.stringify(data));\n        quiz = new Quiz(data);\n\n        btnStart.addEventListener('click',start);\n    });\n    \n});","class Question {\n    constructor(question){\n        this.question = question.question;\n        this.answers = question.answers;\n    }\n    \n    isCorrect(answerIndex){\n        return this.answers[answerIndex].correct;\n    }    \n}\n\nexport { Question }","import { Question } from './question';\n\nclass Quiz {\n    constructor(questions){\n        this.turns = 0;\n        this.mistakes = 0;\n        this.questions = [];\n        this.createQuestions(questions);\n        this.getCurrentQuestion();\n    }\n    createQuestions(questions){\n        questions.forEach(question => this.questions.push(new Question(question)));\n    }\n    \n    getCurrentQuestion(){\n        this.currentQuestion = this.questions[0];    \n    }\n    \n    isEnded(){\n        return !this.questions.length;\n    }\n    \n    moveToBack(){\n        this.questions.push(this.questions.shift());\n    }\n    \n    removeQuestion(){\n        this.questions.shift();\n    }\n    \n    guess(pickedAnswerIndex){\n     if(this.currentQuestion.isCorrect(pickedAnswerIndex)){\n            this.removeQuestion();\n        } else {\n            this.mistakes += 1;\n            this.moveToBack();\n        }\n      this.turns += 1;\n      this.getCurrentQuestion();\n    }\n}\n\nexport { Quiz }"],"sourceRoot":""}